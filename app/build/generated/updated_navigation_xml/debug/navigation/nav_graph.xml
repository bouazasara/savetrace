<navigation
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:app="http://schemas.android.com/apk/res-auto"
xmlns:tools="http://schemas.android.com/tools"
android:id="@+id/nav_graph"
app:startDestination="@id/authFragment" >

<!-- Fragments principaux de l'application -->
<fragment
    android:id="@+id/homeFragment"
    android:name="com.safetrace.safetraceapp.ui.HomeFragment"
    android:label="Accueil"
    tools:layout="@layout/fragment_home" />
<fragment
    android:id="@+id/journalFragment"
    android:name="com.safetrace.safetraceapp.ui.journal.JournalFragment"
    android:label="@string/title_journal"
    tools:layout="@layout/fragment_journal" >

    <action
        android:id="@+id/action_journalFragment_to_addEntryFragment"
        app:destination="@id/addEntryFragment" />

</fragment>
<fragment
    android:id="@+id/helpFragment"
    android:name="com.safetrace.safetraceapp.ui.help.HelpFragment"
    android:label="@string/title_help"
    tools:layout="@layout/fragment_help" />
<fragment
    android:id="@+id/positiveFragment"
    android:name="com.safetrace.safetraceapp.ui.positive.PositiveFragment"
    android:label="@string/title_positive"
    tools:layout="@layout/fragment_positive" />
<fragment
    android:id="@+id/settingsFragment"
    android:name="com.safetrace.safetraceapp.ui.settings.SettingsFragment"
    android:label="@string/title_settings"
    tools:layout="@layout/fragment_settings" />

<!-- Fragments d'authentification et d'enregistrement -->
<fragment
    android:id="@+id/authFragment"
    android:name="com.safetrace.safetraceapp.ui.auth.AuthFragment"
    android:label="Authentification"
    tools:layout="@layout/fragment_auth" >

    <action
        android:id="@+id/action_authFragment_to_registrationFragment"
        app:destination="@id/registrationFragment"
        app:popUpTo="@id/authFragment"
        app:popUpToInclusive="true" />
    <action
        android:id="@+id/action_authFragment_to_homeFragment"
        app:destination="@id/homeFragment"
        app:popUpTo="@id/authFragment"
        app:popUpToInclusive="true" />

</fragment>
<fragment
    android:id="@+id/registrationFragment"
    android:name="com.safetrace.safetraceapp.ui.auth.RegistrationFragment"
    android:label="@string/title_registration"
    tools:layout="@layout/fragment_registration" >

    <action
        android:id="@+id/action_registrationFragment_to_homeFragment"
        app:destination="@id/homeFragment"
        app:popUpTo="@id/registrationFragment"
        app:popUpToInclusive="true" />

</fragment>

<!-- Fragment pour la caméra (ajout de preuve) -->
<fragment
    android:id="@+id/cameraFragment"
    android:name="com.safetrace.safetraceapp.ui.journal.CameraFragment"
    android:label="Preuve Photo/Vidéo"
    tools:layout="@layout/fragment_camera" >

    <argument
        android:name="isPhoto"
        app:argType="boolean" />

    <action
        android:id="@+id/action_cameraFragment_to_addEntryFragment"
        app:destination="@id/addEntryFragment" />

</fragment>

<!-- Fragment pour ajouter une entrée au journal -->
<fragment
    android:id="@+id/addEntryFragment"
    android:name="com.safetrace.safetraceapp.ui.journal.AddEntryFragment"
    android:label="Nouvelle Entrée"
    tools:layout="@layout/fragment_add_entry" >

    <action
        android:id="@+id/action_addEntryFragment_to_cameraFragment"
        app:destination="@id/cameraFragment" />

</fragment>
</navigation>